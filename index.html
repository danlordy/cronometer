<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cronómetro con Usuarios y Historial</title>
    <link href="style.css" rel="stylesheet">
</head>

<body>
    <div class="container">
        <h1 class="text-3xl font-bold mb-4">Cronómetro con Costo</h1>

        <div id="loginSection">
            <h2 class="text-2xl mb-4">Iniciar Sesión</h2>
            <form id="loginForm">
                <input type="text" id="loginUsername" placeholder="Usuario">
                <input type="password" id="loginPassword" placeholder="Contraseña">
                <button id="loginButton" class="button button-start w-full">Entrar</button>
                <button id="showRegisterButton" class="button button-secondary w-full mt-2" type="button">Registrarse</button>
                <p id="loginError" class="text-red-500 mt-2 hidden">Usuario o contraseña incorrectos.</p>
            </form>
        </div>

        <div id="registerSection" class="hidden">
            <h2 class="text-2xl mb-4">Registrar Usuario</h2>
            <form id="registerForm">
                <input type="text" id="registerUsername" placeholder="Nuevo Usuario">
                <input type="password" id="registerPassword" placeholder="Nueva Contraseña">
                <button id="registerButton" class="button button-register w-full">Crear Usuario</button>
                <button id="backToLoginButton" class="button button-secondary w-full mt-2" type="button">Volver a Iniciar Sesión</button>
                <p id="registerError" class="text-red-500 mt-2 hidden">El usuario ya existe.</p>
                <p id="registerSuccess" class="text-green-500 mt-2 hidden">Usuario creado con éxito. Por favor, inicia
                    sesión.</p>
            </form>
        </div>


        <div id="timerSection" class="hidden">
            <h2 class="text-2xl mb-4">Bienvenido, <span id="loggedInUsername"></span>!</h2>
            <div class="text-5xl font-mono mb-4" id="timeDisplay">00:00:00</div>
            <div class="text-2xl mb-6">Costo: <span id="costDisplay">$0.00</span></div>

            <div class="mb-4">
                <label for="taskName" class="block text-sm font-medium mb-1 text-left">Nombre de Tarea/Proyecto (Opcional):</label>
                <input type="text" id="taskName" placeholder="Ej: Desarrollo de nueva función" class="w-full">
            </div>

            <div>
                <button id="startButton" class="button button-start">Inicio</button>
                <button id="pauseButton" class="button button-pause" disabled>Pausa</button>
                <button id="stopButton" class="button button-stop" disabled>Detener</button>
            </div>

            <button id="configButton" class="button button-secondary mt-4">Configuración</button>
            <button id="showHistoryButton" class="button button-secondary mt-4">Ver Historial</button>
            <button id="logoutButton" class="button button-secondary mt-4">Cerrar Sesión</button>
        </div>

        <div id="configSection" class="hidden">
            <h2 class="text-2xl mb-4">Configuración</h2>
            <div class="mb-4">
                <label for="pricePerHour" class="block text-sm font-medium mb-1 text-left">Precio por Hora:</label>
                <input type="number" id="pricePerHour" value="100" min="0">
            </div>
            <div class="mb-4">
                <label for="currencySymbol" class="block text-sm font-medium mb-1 text-left">Símbolo de Moneda:</label>
                <input type="text" id="currencySymbol" value="$" maxlength="5"> 
            </div>
            <button id="saveConfigButton" class="button button-start w-full">Guardar Configuración</button>
            
            <button id="clearHistoryButton" class="button button-stop w-full mt-4">Limpiar Historial de Sesiones (Usuario Actual)</button>
            <button id="resetAppButton" class="button button-stop w-full mt-2">Reiniciar Aplicación (Eliminar Todos los Datos)</button>
            
            <button id="backButton" class="button button-secondary w-full mt-2">Volver al Cronómetro</button>
        </div>

        <div id="historySection" class="hidden">
            <h2 class="text-2xl mb-4">Historial de Sesiones</h2>
            <div id="historyList" class="history-list">
                <p class="text-gray-400">No hay historial disponible.</p>
            </div>
            <button id="exportCsvButton" class="button button-start w-full mt-2">Exportar Historial a CSV</button>
            <button id="backFromHistoryButton" class="button button-secondary w-full mt-4">Volver al Cronómetro</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>
